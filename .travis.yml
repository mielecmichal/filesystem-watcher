language: java
os: linux
dist: bionic
jdk: openjdk11
before_install:
  - openssl aes-256-cbc -K $encrypted_92bb71d8d05e_key -iv $encrypted_92bb71d8d05e_iv -in signing_key.gpg.enc -out signing_key.gpg -d
  - gpg2 --version
  - gpg2 --batch --import signing_key.gpg
  - if [ "${TRAVIS_BRANCH}" = "master" ]; then
    MAVEN_CHANGELIST='';
    else
    MAVEN_CHANGELIST='-SNAPSHOT';
    fi;
    export MAVEN_CHANGELIST;
install: skip
script: "./mvnw deploy sonar:sonar -P release --settings settings.xml -Dchangelist=${MAVEN_CHANGELIST} -B"
env:
  global:
    # GPG_PASSPHRASE
    - secure: DB9jDkID1PNwns0FM81ul1XrODBLJ41zjDIOWJ9AJhFOGgkDmaH59dLvPDKNx0tjKm/1SBRGGp/KVsbsUSztcmaJ6GvgP5SH/VJkdrEFh4VWk28JY9stqU3280/Y0l8aG6HWi2Cmd6PTKyMK+rugh05nmB0YhHOyhr/7V8yR+Y77+nZdiBJXc9PCk3w2kYyShM6T62WtfyoJUAvvWffqCp5/SqRGJGwvDOz9u62rZCCeYr2sVUNlnKUqpp5VXnHoLb833f8XrnS4vL3N1OpLaHieJ3AWxxS1ppzwkjYTpQkC4TL0EcFqlKht7AKczxfhLQTFKly+anSOSLx0G3+68+nn+TjQ6oqCZ0k/NyiFC5coX0eTyeE4ygWUt1BoSFG1rnQpajtC/6/N7U2UfKP2rtXgLQQtR/h/m9MkVRKOfakfyuhqAZmv2Upt8ZQmhaNRrZ2uQGGzEeKqGP1P6CcYt4XhfJ++HJ6TafZvezGvPM6Z33FIauGCTfhGHVEXbKlIO7WTCSvpLLHwo3VD+Nf67pTBvfT2Xi7/LUnZS//nYEH5YDcB5jPQyfTs1x06yCZIq0gjXyz4ya3eWm3QDjQJsQ3+KeEr34qTuZ8KqqcjLjYm65svCMdTDV8vf54YgZkN+oPja/Uru0EdoqmoI+OieBMZqQlGWgf/SkS3XDaKfiw=
    # OSSRH_USERNAME
    - secure: s32qxI2kCaj2AnNyAUPmod8WtnMMUvoi6Tp930ZnogqZGNbHB1+IfpuSsNbGn8MStlfjfMIK+cVLy3ytbjzWQxtfOqGv2LYv5b+WWGmKFrgP+/NFT+699bu2QgPU/fIiixR4aeAQsQ1/oAqjz9TJ5LX9uEKYc3o99ifgd/Ij7aA3jAQztuIcHtHb5/wfOwIKr/jMbXbFab/3fIT67XlPWDrK7tpZXY/t3wYscI7clvBzLi3bUeCvljh3Ki3MdP7Q7TExv5zS3eAO3F+MwtAAv1j0QjQBBmX7/WnScKEOV8Yv0oA2PFw6YgkueSpQUZem9YE4PZKlzUgYQRlbGsTnisQXuoJXNn8PC1wp4D++skrWUunlxVJWJjMoRonStidyThm4bIW1d7x0eX5+65S4pUJgx+0c4DsHmgErVKuPLqunTXvtrdNn0XvnTZ4VxQGyjyiEm+8X0so6JTDazUptxBKPDLhoEfVgAEr64f2ctckT8jCfV7RP0nSA+A1y7CvdmkeezbdKNU16AmwelEuBwiXpYye6JSG6SASeZstyz5dsxkEpSdKc1GkbJ/U0rYC+08cApDbmyb15FjBmhDmIs+o8WAGnuF0j78+1qpmr599DEShSzvFb1rQhkRDlIshvWsloRO1qXqqz7mL0qNUcjvx3UD9Ij+IiglP5FnsPXcc=
    # OSSRH_PASSWORD
    - secure: vrpOE0vl40d3O62MuMs36veo/eRG44pWVrVKK/IynMHs7Cy5WKA480rNGd2A9roHJIZ8wE+ve5B9JtBNfhzxfArZSo8v0rcJkQp7Rzhybg1RTd8rYuRqUE+pEK+7wa/DvrCos2ljle0LIxkpfvLVuTt96AyoWUrlz9R7D48BhT5ydmYXpZTT8yySdwbQH+tqS6t+zOkiyrGDcxxIVYyimsIBIBMoes5Hp+4O4Z+gVx9+G0SoLhHsoT2Q/3vEWLe+pI1JjXlw8sVqvWzLKVrq82EauWVnIlrIWmwgGm5IrLiezxzKXffrBs/937YKbNAjpZEsjeWkvVDx98buCY5UJ/ggN1AE+xGGVhsuXBC88N3pE17RejnFLuH2MLnMbJ5by4ZVSzLxaw8ZXtaT2U2Wu2DcdXAKg5+F5MQndaCTMObod27OzDk4OgWRZEuIlamRo2Dy66LjVNndhVTeIJts7BuhxsWvdTy2O3smKV4rSSd6YA+mzCp8pxfNrNEZQYTr6gFsZ/ff1z+XKi5cJiAXgoTo88PUhnAE4sXabapfPxwkWUtr53yVMWbdrbBYxyz57Jc0BlUfJrYKGFdlJl05cwoPUc3jm5aFP8ztqdKImgqBOmEIymoo4cY/elhjTUZ38aFuhTMhjjh4IZFPDHO36iNy04ttjhpGXiu9scJE9Fw=
    # SONARCLOUD_TOKEN
    - secure: S04AigYRfIKbAFsPwgzjlG0yfPfFrw9vfktb4sFxHBv6I40gAj+gyXoNbN+3+vyDkOyh2/Tu7OboI0PMXT9N7fE5vIlqJmV3Iw4KFSFVz+A7Ne3jUKfMZeODA2CwSEtFZupC/tAr0d4N0QLt1AWcPthB3AsWC3F23Wj+ekIonFesaUBDy++8+lt0Ms0SL//+NhMhEaqtKttS2dMRcEZ+jrRnbwnGffdUd8q8cVc4TBb6ZQuf3slGGmSo7SIkqTnkdDoJzTodNB/6vyaD3GJLJluxPgPVfjNv7FtMuW+kEwdDjYCU+eUc7nDzkg7WcLV/+A3bUh96azxhKy/To5LHWFZE9soXB4j3NvuwS6Wkhu4SKMKc8dwaDyRH+ArcUa8so2MNs7a766R4+MeLfQfkbHbvaj93MTyMthYQkkb2qUtTJjDaZ3H1/jKOqQM/vYVcYHRtSt4RhATSETqyExX8kVpIWmiApgGZQssdA7NU9eRM18lU2dGAlbaJcR/8igMo4QIfIrGE49FhoVpR94PUSCJEiRKmQqNtF6A9AvnAAEZKVjWiDVqiScOVV+v42ZlaEjU1iCFbs6XI2q86By6s8XhNyW6oA5xn920DlqFnFmrHLEs9FQnLkZTZBKByJp3zmgufulepBIfPPiD+3H0gX/nT40E4hVJvoWHLaHKfz/8=
cache:
  directories:
    - $HOME/.m2